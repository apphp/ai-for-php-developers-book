# Кейс 2. Attention как агрегатор признаков (anti-fraud)

#### Цель

Вместо простого среднего по признакам использовать attention.

#### Сценарий

У транзакции есть признаки:

* сумма
* страна
* время
* новый IP
* новое устройство

Обычно их просто конкатенируют.

Мы делаем иначе:

* каждый признак → вектор
* attention решает, что важнее в текущем контексте

Например:

* если сумма большая → вес увеличивается
* если новый IP → тоже увеличивается

#### Реализация (концепт)

```
$features = [
    embed($amount),
    embed($country),
    embed($ip_flag),
    embed($device_flag),
];

$output = attention($features, $features, $features);
```

#### Что это даёт

Модель начинает адаптивно взвешивать признаки.

Это объясняет:

> почему в одном случае важнее сумма

> а в другом – новое устройство

