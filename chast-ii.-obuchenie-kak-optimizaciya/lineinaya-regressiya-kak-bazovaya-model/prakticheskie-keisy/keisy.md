# Кейсы

### 1. **«Оценка стоимости квартиры по параметрам»**

#### Суть кейса

Классический, но реальный: внутренний сервис для агентства недвижимости или банка.

**Признаки:**

* площадь (м²)
* этаж
* расстояние до центра (км)
* возраст дома (лет)

**Цель:**\
Предсказать цену квартиры.

#### Почему это хороший кейс

* легко объяснить бизнесу
* линейность часто _достаточно хороша_
* можно показать интерпретацию весов (`+5000 ₽ за м²`, `−20000 ₽ за км`)

#### Реализация

**Pure PHP**

* градиентный спуск
* матрица `X (Nx4)`
* веса `w (4)`
* bias как дополнительный признак

Плюс:

* полный контроль
* видно математику

Минус:

* нет масштабирования признаков
* медленно на больших данных

**PHP + библиотека**

**php-ai/php-ml**

```bash
composer require php-ai/php-ml
```

```php
use Phpml\Regression\LeastSquares;

$samples = [
    [50, 3, 5, 10],
    [70, 10, 3, 5],
    [40, 2, 8, 30],
];

$targets = [6_000_000, 9_500_000, 4_500_000];

$regression = new LeastSquares();
$regression->train($samples, $targets);

$price = $regression->predict([60, 5, 4, 12]);
```

***

### 2. **«Прогноз времени выполнения задачи разработчиком»**

#### Суть кейса

Внутренний инструмент для планирования спринтов.

**Признаки:**

* story points
* количество затронутых файлов
* количество строк изменений
* опыт разработчика (в месяцах)

**Цель:**\
Предсказать время выполнения задачи (в часах).

#### Почему это круто

* необычный, «инженерный» ML
* хорошо показывает, что ML — это не только картинки
* веса легко интерпретируются

#### Реализация

**Pure PHP**

* данные можно брать из Git / Jira API
* обучение оффлайн
* предсказание — в CI или planning tool

Особенно хорошо показать:

* переобучение
* шум в данных
* why MSE, а не MAE

**PHP + библиотека**

**Rubix ML**

```bash
composer require rubix/ml
```

```php
use Rubix\ML\Regressors\LinearRegression;
use Rubix\ML\Datasets\Labeled;

$samples = [
    [5, 3, 200, 24],
    [8, 5, 500, 12],
    [3, 1, 100, 36],
];

$labels = [6.5, 12.0, 4.0];

$dataset = Labeled::build($samples, $labels);

$model = new LinearRegression();
$model->train($dataset);

$hours = $model->predict([[6, 4, 300, 18]]);
```

***

### 3. **«Прогноз потребления ресурсов сервера»**

#### Суть кейса

DevOps / SRE-кейс.

**Признаки:**

* количество запросов в минуту
* средний размер ответа
* количество активных пользователей
* время суток (число)

**Цель:**\
Предсказать нагрузку CPU или RAM.

#### Почему это реалистично

* линейная модель часто используется как baseline
* хорошо демонстрирует _feature engineering_
* применяется для auto-scaling

#### Реализация

**Pure PHP**

* обучаем модель раз в N минут
* данные из Prometheus / logs
* используем online gradient descent

Можно показать:

* обучение «на лету»
* concept drift

**PHP + библиотека**

**php-ai/php-ml**

```php
use Phpml\Regression\LeastSquares;

$samples = [
    [1200, 15, 300, 14],
    [800, 10, 200, 2],
];

$targets = [75.0, 40.0]; // CPU %

$model = new LeastSquares();
$model->train($samples, $targets);

$cpu = $model->predict([1000, 12, 250, 16]);
```

***

### 4. **«Оценка вероятного чека клиента»**

#### Суть кейса

E-commerce / SaaS.

**Признаки:**

* количество посещений
* время на сайте
* количество просмотренных товаров
* скидка (%)

**Цель:**\
Предсказать сумму заказа.

#### Почему линейная регрессия

* baseline перед более сложными моделями
* легко объяснить маркетингу
* быстрые расчёты

#### Реализация

**Pure PHP**

* полезно показать нормализацию признаков
* логарифмирование таргета

**PHP + библиотека**

**Rubix ML** с регуляризацией:

```php
use Rubix\ML\Regressors\RidgeRegression;
use Rubix\ML\Datasets\Labeled;

$model = new RidgeRegression(1.0);
$model->train($dataset);
```

***

### 5. **«Прогноз зарплаты по рынку»**

#### Суть кейса

HR-tech или аналитика рынка труда.

**Признаки:**

* опыт (лет)
* количество технологий
* размер компании
* удалёнка (0/1)

**Цель:**\
Предсказать медианную зарплату.

#### Почему хороший финальный кейс

* чувствительные данные
* обсуждение bias и fairness
* интерпретация коэффициентов

***

### Как логично встроить в главу

Рекомендую структуру:

1. **Один кейс — подробно (pure PHP)**\
   → показать механику
2. **Тот же кейс — через библиотеку**\
   → показать промышленный подход
3. **Список остальных кейсов**\
   → как идеи для практики

***

### Короткий вывод для читателя

> Линейная регрессия — это не «учебная игрушка», а рабочий инструмент.\
> Она часто используется:
>
> * как baseline
> * как интерпретируемая модель
> * как часть более сложных систем

