# Кейс 1: MSE и цена большого промаха

### Кейс 1. Прогноз цены и влияние выбросов (MSE на практике)

Сценарий

Есть простой сервис оценки стоимости квартир. Мы предсказываем цену по площади. В данных есть одна «странная» квартира с ошибкой в сотни тысяч.

Цель кейса

Показать, как MSE резко реагирует на выбросы и почему одна плохая точка может испортить модель.

Идея

Мы считаем MSE для нормальных данных, а потом добавляем один выброс и смотрим, как меняется loss.

```
$y = [100, 120, 130, 115, 125];
$yHat = [102, 118, 128, 117, 123];

function mse(array $y, array $yHat): float {
    $n = count($y);
    $sum = 0.0;

    for ($i = 0; $i < $n; $i++) {
        $diff = $y[$i] - $yHat[$i];
        $sum += $diff * $diff;
    }

    return $sum / $n;
}

echo mse($y, $yHat) . PHP_EOL;

// Добавляем выброс
$y[] = 300;
$yHat[] = 130;

echo mse($y, $yHat);
```

Что объяснить текстом

– MSE вырос непропорционально сильно

– квадрат ошибки делает выброс доминирующим

– это осознанное свойство, а не баг
